{"version":3,"sources":["firebase/config.js","contexts/AuthContext.js","comps/Signup.js","hooks/useStorage.js","comps/ProgressBar.js","comps/UploudForm.js","hooks/useFirestore.js","comps/ImageGrid.js","comps/Modal.js","comps/Dashboard.js","comps/Login.js","comps/PrivateRoute.js","App.js","index.js"],"names":["firebase","initializeApp","apiKey","authDomain","projectId","storageBucket","messagingSenderId","appId","projectStorage","storage","projectFirestore","firestore","timestamp","FieldValue","serverTimestamp","auth","AuthContext","React","createContext","useAuth","useContext","AuthProvider","children","useState","currentUser","setCurrentUser","loading","setLoading","useEffect","onAuthStateChanged","user","value","login","email","password","signInWithEmailAndPassword","signup","createUserWithEmailAndPassword","logout","signOut","resetPassword","sendPasswordResetEmail","updateEmail","updatePassword","Provider","Signup","emailRef","useRef","passwordRef","passwordConfirmRef","error","setError","history","useHistory","e","a","preventDefault","current","push","Card","Body","className","Alert","variant","Form","onSubmit","Group","id","Label","Control","type","ref","required","Button","disabled","to","useStorage","file","progress","setProgress","url","storageRef","name","collectionRef","collection","put","on","snap","percentage","bytesTransferred","totalBytes","err","getDownloadURL","createdAt","add","ProgressBar","setFile","style","width","UploudForm","types","onChange","selected","target","files","includes","useFirestore","docs","setDocs","unsub","orderBy","onSnapshot","documents","forEach","doc","data","ImageGrid","setSelectedImg","map","div","layout","whileHover","opacity","onClick","key","img","src","alt","initial","animate","transition","delay","Modal","selectedImg","classList","contains","y","Dashboard","height","viewBox","fill","xmlns","d","href","Login","PrivateRoute","Component","component","rest","render","props","App","exact","path","ReactDOM","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.a73a4379.chunk.js","sourcesContent":["import firebase from \"firebase/app\"\r\nimport 'firebase/storage';\r\nimport 'firebase/firestore';\r\nimport \"firebase/auth\"\r\n\r\n// Your web app's Firebase configuration\r\nvar firebaseConfig = {\r\n    apiKey: \"AIzaSyD4pPU0qWBuQo4Vs3obLx30V-U-oEJjDmo\",\r\n    authDomain: \"rafal-gallery.firebaseapp.com\",\r\n    projectId: \"rafal-gallery\",\r\n    storageBucket: \"rafal-gallery.appspot.com\",\r\n    messagingSenderId: \"597881999732\",\r\n    appId: \"1:597881999732:web:2679ec6ad025d98ba79c21\"\r\n  };\r\n   // Initialize Firebase\r\nfirebase.initializeApp(firebaseConfig);\r\n\r\nconst projectStorage = firebase.storage();\r\nconst projectFirestore = firebase.firestore();\r\nconst timestamp = firebase.firestore.FieldValue.serverTimestamp;\r\n\r\nexport {projectStorage, projectFirestore, timestamp};\r\nexport const auth = firebase.auth()\r\n","import React, { useContext, useState, useEffect } from \"react\"\nimport { auth } from \"../firebase/config\"\n\nconst AuthContext = React.createContext()\n\nexport function useAuth() {\n  return useContext(AuthContext)\n}\n\nexport function AuthProvider({ children }) {\n  const [currentUser, setCurrentUser] = useState()\n  const [loading, setLoading] = useState(true)\n\n  function signup(email, password) {\n    return auth.createUserWithEmailAndPassword(email, password)\n  }\n\n  function login(email, password) {\n    return auth.signInWithEmailAndPassword(email, password)\n  }\n\n  function logout() {\n    return auth.signOut()\n  }\n\n  function resetPassword(email) {\n    return auth.sendPasswordResetEmail(email)\n  }\n\n  function updateEmail(email) {\n    return currentUser.updateEmail(email)\n  }\n\n  function updatePassword(password) {\n    return currentUser.updatePassword(password)\n  }\n\n  useEffect(() => {\n    const unsubscribe = auth.onAuthStateChanged(user => {\n      setCurrentUser(user)\n      setLoading(false)\n    })\n\n    return unsubscribe\n  }, [])\n\n  const value = {\n    currentUser,\n    login,\n    signup,\n    logout,\n    resetPassword,\n    updateEmail,\n    updatePassword\n  }\n\n  return (\n    <AuthContext.Provider value={value}>\n      {!loading && children}\n    </AuthContext.Provider>\n  )\n}\n","import React, { useRef, useState } from \"react\"\nimport { Form, Button, Card, Alert } from \"react-bootstrap\"\nimport { useAuth } from \"../contexts/AuthContext\"\nimport { Link, useHistory } from \"react-router-dom\"\n\nexport default function Signup() {\n  const emailRef = useRef()\n  const passwordRef = useRef()\n  const passwordConfirmRef = useRef()\n  const { signup } = useAuth()\n  const [error, setError] = useState(\"\")\n  const [loading, setLoading] = useState(false)\n  const history = useHistory()\n\n  async function handleSubmit(e) {\n    e.preventDefault()\n\n    if (passwordRef.current.value !== passwordConfirmRef.current.value) {\n      return setError(\"Passwords do not match\")\n    }\n\n    try {\n      setError(\"\")\n      setLoading(true)\n      await signup(emailRef.current.value, passwordRef.current.value)\n      history.push(\"/\")\n    } catch {\n      setError(\"Failed to create an account\")\n    }\n\n    setLoading(false)\n  }\n\n  return (\n    <>\n      <Card>\n        <Card.Body>\n          <h2 className=\"text-center mb-4\">Sign Up</h2>\n          {error && <Alert variant=\"danger\">{error}</Alert>}\n          <Form onSubmit={handleSubmit}>\n            <Form.Group id=\"email\">\n              <Form.Label>Email</Form.Label>\n              <Form.Control type=\"email\" ref={emailRef} required />\n            </Form.Group>\n            <Form.Group id=\"password\">\n              <Form.Label>Password</Form.Label>\n              <Form.Control type=\"password\" ref={passwordRef} required />\n            </Form.Group>\n            <Form.Group id=\"password-confirm\">\n              <Form.Label>Password Confirmation</Form.Label>\n              <Form.Control type=\"password\" ref={passwordConfirmRef} required />\n            </Form.Group>\n            <Button disabled={loading} className=\"w-100\" type=\"submit\">\n              Sign Up\n            </Button>\n          </Form>\n        </Card.Body>\n        <div className=\"w-100 text-center mt-2 log-sign\">\n          Already have an account? <Link to=\"/login\">Log In</Link>\n        </div>\n      </Card>\n    </>\n  )\n}\n","import { useRef } from 'react';\r\nimport React, {useContext,useState, useEffect} from 'react';\r\nimport {projectStorage, projectFirestore, timestamp,auth} from '../firebase/config';\r\n\r\nconst AuthContext = React.createContext()\r\n\r\nexport function useAuth() {\r\n    return useContext(AuthContext)\r\n}\r\n\r\nexport function AuthProvider({ children }) {\r\n    const [currentUser, setCurrentUser] = useState()\r\n    const [loading, setLoading] = useState(true)\r\n  \r\n    function signup(email, password) {\r\n      return auth.createUserWithEmailAndPassword(email, password)\r\n    }\r\n  \r\n    function login(email, password) {\r\n      return auth.signInWithEmailAndPassword(email, password)\r\n    }\r\n  \r\n    function logout() {\r\n      return auth.signOut()\r\n    }\r\n  \r\n    function resetPassword(email) {\r\n      return auth.sendPasswordResetEmail(email)\r\n    }\r\n  \r\n    function updateEmail(email) {\r\n      return currentUser.updateEmail(email)\r\n    }\r\n  \r\n    function updatePassword(password) {\r\n      return currentUser.updatePassword(password)\r\n    }\r\n  \r\n    useEffect(() => {\r\n      const unsubscribe = auth.onAuthStateChanged(user => {\r\n        setCurrentUser(user)\r\n        setLoading(false)\r\n      })\r\n  \r\n      return unsubscribe\r\n    }, [])\r\n  \r\n    const value = {\r\n      currentUser,\r\n      login,\r\n      signup,\r\n      logout,\r\n      resetPassword,\r\n      updateEmail,\r\n      updatePassword\r\n    }\r\n  \r\n    return (\r\n      <AuthContext.Provider value={value}>\r\n        {!loading && children}\r\n      </AuthContext.Provider>\r\n    )\r\n  }\r\n\r\nconst useStorage = (file) => {\r\n    const [progress, setProgress] = useState(0);\r\n    const [error, setError] = useState(null);\r\n    const [url, setUrl] = useState(null);\r\n\r\n    useEffect(() => {\r\n        //REFRENCES\r\n        const storageRef = projectStorage.ref(file.name);\r\n        const collectionRef = projectFirestore.collection('images');\r\n\r\n        storageRef.put(file).on('state_changed', (snap) => {\r\n            let percentage = (snap.bytesTransferred / snap.totalBytes) * 100;\r\n            setProgress(percentage);\r\n        }, (err) => {\r\n            setError(err);\r\n        }, async () => {\r\n            const url = await storageRef.getDownloadURL();\r\n            const createdAt = timestamp();\r\n            collectionRef.add({url, createdAt});\r\n        })\r\n\r\n    }, [file])\r\n\r\n        return {progress, url, error}\r\n\r\n}\r\n\r\nexport default useStorage;","import React from 'react';\r\nimport { useEffect } from 'react';\r\nimport useStorage from '../hooks/useStorage';\r\n\r\nconst ProgressBar = ({file, setFile}) => {\r\n    const {url, progress} = useStorage(file);\r\n    \r\n    useEffect(() => {\r\n        if(url){\r\n            setFile(null);\r\n        }\r\n    }, [url, setFile])\r\n\r\n    return (\r\n        <div className='progress-bar' style={{width: progress + '%'}}></div>\r\n    )\r\n}\r\n\r\nexport default ProgressBar;","import React, {useState} from 'react';\r\nimport ProgressBar from './ProgressBar';\r\n\r\nconst UploudForm = () => {\r\n    const [file, setFile] = useState(null);\r\n    const [error, setError] = useState(null);\r\n    const types = ['image/png', 'image/jpeg', 'image/jpg']\r\n\r\n    const changeHandler = (e) =>  {\r\n        let selected = e.target.files[0];\r\n        if(selected && types.includes(selected.type)) {\r\n            setFile(selected);\r\n            setError('')\r\n        }else {\r\n            setFile(null);\r\n            setError('Please select an image file (png/jpeg/jpg) or write you user name')\r\n        }\r\n    }\r\n    \r\n    return (\r\n        <form>\r\n            <label>\r\n              <input className='fileInput' type=\"file\" onChange={changeHandler}/>\r\n              <span className='plus'><i className=\"fas fa-plus-circle\"></i> Add Img</span>\r\n            </label>\r\n            <div className='output'>\r\n                {error && <div className='error'>{error}</div>}\r\n                {file && <ProgressBar file={file} setFile={setFile}/>}\r\n            </div>\r\n        </form>\r\n    )\r\n}\r\n\r\nexport default UploudForm;","import {useState, useEffect} from 'react';\r\nimport {projectFirestore} from '../firebase/config';\r\n\r\nconst useFirestore = (collection) => {\r\n    const [docs, setDocs] = useState([]);\r\n\r\n    useEffect(() => {\r\n        const unsub = projectFirestore.collection(collection)\r\n        .orderBy('createdAt', 'desc')\r\n        .onSnapshot((snap) => {\r\n\r\n            let documents = [];\r\n            snap.forEach(doc => {\r\n                documents.push({...doc.data(), id: doc.id})\r\n            });\r\n            setDocs(documents);\r\n        });\r\n        return () => unsub();\r\n    }, [collection])\r\n\r\n    return { docs };\r\n}\r\n\r\nexport default useFirestore;","import React from 'react';\r\nimport useFirestore from '../hooks/useFirestore';\r\nimport {motion} from 'framer-motion';\r\n\r\nconst ImageGrid = ({setSelectedImg}) => {\r\n    const {docs} = useFirestore('images');\r\n    return (\r\n        <div className='img-grid'>\r\n            {docs && docs.map(doc => (\r\n                <motion.div \r\n                layout\r\n                whileHover={{opacity: 1}}\r\n                onClick={() => setSelectedImg(doc.url)}\r\n                className='img-wrap' key={doc.id}>\r\n                    <motion.img src={doc.url} alt=''\r\n                    initial={{opacity: 0}}\r\n                    animate={{opacity: 1}}\r\n                    transition={{delay: 1}}/>\r\n                </motion.div>\r\n            ))}\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default ImageGrid;","import React from 'react';\r\nimport {motion} from 'framer-motion';\r\n\r\nconst Modal = ({selectedImg, setSelectedImg}) => {\r\n\r\n    const handleClick = (e) => {\r\n        if(e.target.classList.contains('backdrop')){\r\n            setSelectedImg(null)\r\n        }\r\n    }\r\n\r\n    return (\r\n        <motion.div className='backdrop' onClick={handleClick}\r\n        initial={{opacity: 0}}\r\n        animate={{opacity: 1}}>\r\n            <motion.img src={selectedImg} alt=\"largePic\"\r\n            initial={{y: \"-100vh\"}}\r\n            animate={{y: 0}}\r\n            />\r\n        </motion.div>\r\n    )\r\n}\r\n\r\nexport default Modal;","import React, { useState } from \"react\"\n// import {Alert } from \"react-bootstrap\"\nimport { useAuth } from \"../contexts/AuthContext\"\nimport {useHistory } from \"react-router-dom\"\nimport UploudForm from './UploudForm';\nimport ImageGrid from './ImageGrid';\nimport Modal from './Modal';\n\nexport default function Dashboard() {\n  const [selectedImg, setSelectedImg] = useState(null);\n  const [error, setError] = useState(\"\")\n  const { currentUser, logout } = useAuth()\n  const history = useHistory()\n\n  async function handleLogout() {\n    setError(\"\")\n\n    try {\n      await logout()\n      history.push(\"/login\")\n    } catch {\n      setError(\"Failed to log out\")\n    }\n  }\n\n  return (\n    <div className=\"main\">\n      <div className=\"menu\">\n        <svg width=\"100\" height=\"100\" viewBox=\"0 0 100 100\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n        <rect width=\"100\" height=\"100\" fill=\"#00BFFF\"/>\n        <path d=\"M50.24 59.22H43.45V70H32.39V29.75H50.73C56.2833 29.75 60.6933 31.08 63.96 33.74C67.2267 36.3533 68.86 39.97 68.86 44.59C68.86 47.53 68.1367 50.0967 66.69 52.29C65.29 54.4367 63.2833 56.1167 60.67 57.33L69.63 70H57.73L50.24 59.22ZM57.73 44.59C57.73 42.5833 57.0767 41.0433 55.77 39.97C54.4633 38.8967 52.5267 38.36 49.96 38.36H43.45V50.82H49.96C52.5267 50.82 54.4633 50.2833 55.77 49.21C57.0767 48.1367 57.73 46.5967 57.73 44.59Z\" fill=\"#CD0642\"/>\n        <path d=\"M31.408 56.198C30.316 56.198 29.332 55.97 28.456 55.514C27.58 55.046 26.89 54.404 26.386 53.588C25.882 52.772 25.63 51.854 25.63 50.834C25.63 49.814 25.882 48.896 26.386 48.08C26.89 47.252 27.58 46.61 28.456 46.154C29.332 45.686 30.316 45.452 31.408 45.452C32.404 45.452 33.262 45.602 33.982 45.902C34.714 46.202 35.344 46.682 35.872 47.342L34.036 49.016C33.352 48.188 32.512 47.774 31.516 47.774C30.64 47.774 29.914 48.056 29.338 48.62C28.774 49.184 28.492 49.922 28.492 50.834C28.492 51.434 28.618 51.968 28.87 52.436C29.134 52.892 29.494 53.246 29.95 53.498C30.418 53.75 30.94 53.876 31.516 53.876C32.512 53.876 33.352 53.462 34.036 52.634L35.872 54.308C35.356 54.956 34.726 55.436 33.982 55.748C33.25 56.048 32.392 56.198 31.408 56.198ZM42.4479 56.198C41.3439 56.198 40.3479 55.97 39.4599 55.514C38.5839 55.046 37.8939 54.404 37.3899 53.588C36.8859 52.772 36.6339 51.854 36.6339 50.834C36.6339 49.814 36.8859 48.896 37.3899 48.08C37.8939 47.252 38.5839 46.61 39.4599 46.154C40.3479 45.686 41.3439 45.452 42.4479 45.452C43.5519 45.452 44.5419 45.686 45.4179 46.154C46.3059 46.61 47.0019 47.252 47.5059 48.08C48.0099 48.896 48.2619 49.814 48.2619 50.834C48.2619 51.854 48.0099 52.772 47.5059 53.588C47.0019 54.404 46.3059 55.046 45.4179 55.514C44.5419 55.97 43.5519 56.198 42.4479 56.198ZM42.4479 53.876C42.9999 53.876 43.4979 53.744 43.9419 53.48C44.3979 53.216 44.7519 52.856 45.0039 52.4C45.2559 51.932 45.3819 51.41 45.3819 50.834C45.3819 50.246 45.2559 49.724 45.0039 49.268C44.7519 48.8 44.3979 48.434 43.9419 48.17C43.4979 47.906 42.9999 47.774 42.4479 47.774C41.8959 47.774 41.3919 47.906 40.9359 48.17C40.4919 48.434 40.1379 48.8 39.8739 49.268C39.6219 49.724 39.4959 50.246 39.4959 50.834C39.4959 51.41 39.6219 51.932 39.8739 52.4C40.1379 52.856 40.4919 53.216 40.9359 53.48C41.3919 53.744 41.8959 53.876 42.4479 53.876ZM50.2747 45.65H55.1527C56.3287 45.65 57.3607 45.86 58.2487 46.28C59.1367 46.7 59.8207 47.3 60.3007 48.08C60.7927 48.86 61.0387 49.778 61.0387 50.834C61.0387 51.878 60.7927 52.79 60.3007 53.57C59.8207 54.35 59.1367 54.95 58.2487 55.37C57.3607 55.79 56.3287 56 55.1527 56H50.2747V45.65ZM55.0627 53.768C56.0227 53.768 56.7787 53.516 57.3307 53.012C57.8827 52.496 58.1587 51.77 58.1587 50.834C58.1587 49.898 57.8827 49.172 57.3307 48.656C56.7787 48.14 56.0227 47.882 55.0627 47.882H53.1187V53.768H55.0627ZM71.388 53.822V56H63.054V45.65H71.19V47.828H65.862V49.718H70.578V51.788H65.862V53.822H71.388Z\" fill=\"white\"/>\n        </svg>\n        <div className=\"menu-user-info\">\n          {error && <p variant=\"danger\">{error}</p>}\n          <p><strong>User:</strong> {currentUser.email}</p>\n          <button id=\"logout\" variant=\"link\" className=\"button\" onClick={handleLogout}>Log Out</button>\n        </div>\n      </div>\n      <div className=\"profile\">\n        <div>\n          <h1>Gallery</h1>\n          <p>Hi, This is a gallery with storage(I've used a firebase), so you can easily add image but to do that you have to login or create an account (same I've used a firebase to storage login and password).</p>\n        </div>\n      </div>\n      <div className=\"content\">\n        <UploudForm/>\n        <ImageGrid setSelectedImg={setSelectedImg}/>\n        {selectedImg &&<Modal selectedImg={selectedImg} setSelectedImg={setSelectedImg}/>}\n      </div>\n      <footer>\n        <a href=\"https://www.google.com\"><span>Made by</span> \n          <svg width=\"100\" height=\"100\" viewBox=\"0 0 100 100\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n            <rect width=\"100\" height=\"100\" fill=\"#00BFFF\"/>\n            <path d=\"M50.24 59.22H43.45V70H32.39V29.75H50.73C56.2833 29.75 60.6933 31.08 63.96 33.74C67.2267 36.3533 68.86 39.97 68.86 44.59C68.86 47.53 68.1367 50.0967 66.69 52.29C65.29 54.4367 63.2833 56.1167 60.67 57.33L69.63 70H57.73L50.24 59.22ZM57.73 44.59C57.73 42.5833 57.0767 41.0433 55.77 39.97C54.4633 38.8967 52.5267 38.36 49.96 38.36H43.45V50.82H49.96C52.5267 50.82 54.4633 50.2833 55.77 49.21C57.0767 48.1367 57.73 46.5967 57.73 44.59Z\" fill=\"#CD0642\"/>\n            <path d=\"M31.408 56.198C30.316 56.198 29.332 55.97 28.456 55.514C27.58 55.046 26.89 54.404 26.386 53.588C25.882 52.772 25.63 51.854 25.63 50.834C25.63 49.814 25.882 48.896 26.386 48.08C26.89 47.252 27.58 46.61 28.456 46.154C29.332 45.686 30.316 45.452 31.408 45.452C32.404 45.452 33.262 45.602 33.982 45.902C34.714 46.202 35.344 46.682 35.872 47.342L34.036 49.016C33.352 48.188 32.512 47.774 31.516 47.774C30.64 47.774 29.914 48.056 29.338 48.62C28.774 49.184 28.492 49.922 28.492 50.834C28.492 51.434 28.618 51.968 28.87 52.436C29.134 52.892 29.494 53.246 29.95 53.498C30.418 53.75 30.94 53.876 31.516 53.876C32.512 53.876 33.352 53.462 34.036 52.634L35.872 54.308C35.356 54.956 34.726 55.436 33.982 55.748C33.25 56.048 32.392 56.198 31.408 56.198ZM42.4479 56.198C41.3439 56.198 40.3479 55.97 39.4599 55.514C38.5839 55.046 37.8939 54.404 37.3899 53.588C36.8859 52.772 36.6339 51.854 36.6339 50.834C36.6339 49.814 36.8859 48.896 37.3899 48.08C37.8939 47.252 38.5839 46.61 39.4599 46.154C40.3479 45.686 41.3439 45.452 42.4479 45.452C43.5519 45.452 44.5419 45.686 45.4179 46.154C46.3059 46.61 47.0019 47.252 47.5059 48.08C48.0099 48.896 48.2619 49.814 48.2619 50.834C48.2619 51.854 48.0099 52.772 47.5059 53.588C47.0019 54.404 46.3059 55.046 45.4179 55.514C44.5419 55.97 43.5519 56.198 42.4479 56.198ZM42.4479 53.876C42.9999 53.876 43.4979 53.744 43.9419 53.48C44.3979 53.216 44.7519 52.856 45.0039 52.4C45.2559 51.932 45.3819 51.41 45.3819 50.834C45.3819 50.246 45.2559 49.724 45.0039 49.268C44.7519 48.8 44.3979 48.434 43.9419 48.17C43.4979 47.906 42.9999 47.774 42.4479 47.774C41.8959 47.774 41.3919 47.906 40.9359 48.17C40.4919 48.434 40.1379 48.8 39.8739 49.268C39.6219 49.724 39.4959 50.246 39.4959 50.834C39.4959 51.41 39.6219 51.932 39.8739 52.4C40.1379 52.856 40.4919 53.216 40.9359 53.48C41.3919 53.744 41.8959 53.876 42.4479 53.876ZM50.2747 45.65H55.1527C56.3287 45.65 57.3607 45.86 58.2487 46.28C59.1367 46.7 59.8207 47.3 60.3007 48.08C60.7927 48.86 61.0387 49.778 61.0387 50.834C61.0387 51.878 60.7927 52.79 60.3007 53.57C59.8207 54.35 59.1367 54.95 58.2487 55.37C57.3607 55.79 56.3287 56 55.1527 56H50.2747V45.65ZM55.0627 53.768C56.0227 53.768 56.7787 53.516 57.3307 53.012C57.8827 52.496 58.1587 51.77 58.1587 50.834C58.1587 49.898 57.8827 49.172 57.3307 48.656C56.7787 48.14 56.0227 47.882 55.0627 47.882H53.1187V53.768H55.0627ZM71.388 53.822V56H63.054V45.65H71.19V47.828H65.862V49.718H70.578V51.788H65.862V53.822H71.388Z\" fill=\"white\"/>\n          </svg>\n        </a>\n      </footer>\n    </div>\n  )\n}\n","import React, { useRef, useState } from \"react\"\nimport { Form, Button, Card, Alert } from \"react-bootstrap\"\nimport { useAuth } from \"../contexts/AuthContext\"\nimport { Link, useHistory } from \"react-router-dom\"\n\nexport default function Login() {\n  const emailRef = useRef()\n  const passwordRef = useRef()\n  const { login } = useAuth()\n  const [error, setError] = useState(\"\")\n  const [loading, setLoading] = useState(false)\n  const history = useHistory()\n\n  async function handleSubmit(e) {\n    e.preventDefault()\n\n    try {\n      setError(\"\")\n      setLoading(true)\n      await login(emailRef.current.value, passwordRef.current.value)\n      history.push(\"/\")\n    } catch {\n      setError(\"Failed to log in\")\n    }\n\n    setLoading(false)\n  }\n\n  return (\n    <>\n      <Card>\n        <Card.Body>\n          <h2 className=\"text-center mb-4\">Log In</h2>\n          {error && <Alert variant=\"danger\">{error}</Alert>}\n          <Form onSubmit={handleSubmit}>\n            <Form.Group id=\"email\">\n              <Form.Label>Email</Form.Label>\n              <Form.Control type=\"email\" ref={emailRef} required />\n            </Form.Group>\n            <Form.Group id=\"password\">\n              <Form.Label>Password</Form.Label>\n              <Form.Control type=\"password\" ref={passwordRef} required />\n            </Form.Group>\n            <Button disabled={loading} className=\"w-100\" type=\"submit\">\n              Log In\n            </Button>\n          </Form>\n          {/* <div className=\"w-100 text-center mt-3\">\n            <Link to=\"/forgot-password\">Forgot Password?</Link>\n          </div> */}\n        </Card.Body>\n        <div className=\"w-100 text-center mt-2 log-sign\">\n          Need an account? <Link to=\"/signup\">Sign Up</Link>\n        </div>\n      </Card>\n    </>\n  )\n}\n","import React from \"react\"\nimport { Route, Redirect } from \"react-router-dom\"\nimport { useAuth } from \"../contexts/AuthContext\"\n\nexport default function PrivateRoute({ component: Component, ...rest }) {\n  const { currentUser } = useAuth()\n\n  return (\n    <Route\n      {...rest}\n      render={props => {\n        return currentUser ? <Component {...props} /> : <Redirect to=\"/login\" />\n      }}\n    ></Route>\n  )\n}\n","import React, { useState} from 'react';\n\nimport Signup from \"./comps/Signup\"\nimport { AuthProvider } from \"./contexts/AuthContext\"\nimport { BrowserRouter as Router, Switch, Route } from \"react-router-dom\"\nimport Dashboard from \"./comps/Dashboard\"\nimport Login from \"./comps/Login\"\nimport PrivateRoute from \"./comps/PrivateRoute\"\n\nfunction App() {\n\n  return (\n    \n    <div className=\"App\">\n        <Router>\n          <AuthProvider>\n            <Switch>\n              <PrivateRoute exact path=\"/\" component={Dashboard} />\n              <Route path=\"/signup\" component={Signup} />\n              <Route path=\"/login\" component={Login} />\n            </Switch>\n          </AuthProvider>\n        </Router>\n    </div>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n// import \"bootstrap/dist/css/bootstrap.min.css\"\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA"],"sourceRoot":""}