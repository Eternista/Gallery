(this.webpackJsonpfiregram=this.webpackJsonpfiregram||[]).push([[0],{48:function(e,t,a){},58:function(e,t,a){"use strict";a.r(t);var n=a(1),r=a.n(n),c=a(22),l=a.n(c),i=(a(48),a(17)),s=a.n(i),u=a(21),o=a(8),m=a(66),p=a(64),C=a(65),d=a(63),f=a(24);a(59),a(60),a(51);f.a.initializeApp({apiKey:"AIzaSyD4pPU0qWBuQo4Vs3obLx30V-U-oEJjDmo",authDomain:"rafal-gallery.firebaseapp.com",projectId:"rafal-gallery",storageBucket:"rafal-gallery.appspot.com",messagingSenderId:"597881999732",appId:"1:597881999732:web:2679ec6ad025d98ba79c21"});var g=f.a.storage(),E=f.a.firestore(),b=f.a.firestore.FieldValue.serverTimestamp,v=f.a.auth(),h=r.a.createContext();function w(){return Object(n.useContext)(h)}function j(e){var t=e.children,a=Object(n.useState)(),c=Object(o.a)(a,2),l=c[0],i=c[1],s=Object(n.useState)(!0),u=Object(o.a)(s,2),m=u[0],p=u[1];Object(n.useEffect)((function(){return v.onAuthStateChanged((function(e){i(e),p(!1)}))}),[]);var C={currentUser:l,login:function(e,t){return v.signInWithEmailAndPassword(e,t)},signup:function(e,t){return v.createUserWithEmailAndPassword(e,t)},logout:function(){return v.signOut()},resetPassword:function(e){return v.sendPasswordResetEmail(e)},updateEmail:function(e){return l.updateEmail(e)},updatePassword:function(e){return l.updatePassword(e)}};return r.a.createElement(h.Provider,{value:C},!m&&t)}var O=a(9),y=a(20);function H(){var e=Object(n.useRef)(),t=Object(n.useRef)(),a=Object(n.useRef)(),c=w().signup,l=Object(n.useState)(""),i=Object(o.a)(l,2),f=i[0],g=i[1],E=Object(n.useState)(!1),b=Object(o.a)(E,2),v=b[0],h=b[1],j=Object(O.g)();function H(){return(H=Object(u.a)(s.a.mark((function n(r){return s.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(r.preventDefault(),t.current.value===a.current.value){n.next=3;break}return n.abrupt("return",g("Passwords do not match"));case 3:return n.prev=3,g(""),h(!0),n.next=8,c(e.current.value,t.current.value);case 8:j.push("/"),n.next=14;break;case 11:n.prev=11,n.t0=n.catch(3),g("Failed to create an account");case 14:h(!1);case 15:case"end":return n.stop()}}),n,null,[[3,11]])})))).apply(this,arguments)}return r.a.createElement(r.a.Fragment,null,r.a.createElement(m.a,null,r.a.createElement(m.a.Body,null,r.a.createElement("h2",{className:"text-center mb-4"},"Sign Up"),f&&r.a.createElement(p.a,{variant:"danger"},f),r.a.createElement(C.a,{onSubmit:function(e){return H.apply(this,arguments)}},r.a.createElement(C.a.Group,{id:"email"},r.a.createElement(C.a.Label,null,"Email"),r.a.createElement(C.a.Control,{type:"email",ref:e,required:!0})),r.a.createElement(C.a.Group,{id:"password"},r.a.createElement(C.a.Label,null,"Password"),r.a.createElement(C.a.Control,{type:"password",ref:t,required:!0})),r.a.createElement(C.a.Group,{id:"password-confirm"},r.a.createElement(C.a.Label,null,"Password Confirmation"),r.a.createElement(C.a.Control,{type:"password",ref:a,required:!0})),r.a.createElement(d.a,{disabled:v,className:"w-100",type:"submit"},"Sign Up"))),r.a.createElement("div",{className:"w-100 text-center mt-2 log-sign"},"Already have an account? ",r.a.createElement(y.b,{to:"/login"},"Log In"))))}var S=function(e){var t=Object(n.useState)(0),a=Object(o.a)(t,2),r=a[0],c=a[1],l=Object(n.useState)(null),i=Object(o.a)(l,2),m=i[0],p=i[1],C=Object(n.useState)(null),d=Object(o.a)(C,2),f=d[0];d[1];return Object(n.useEffect)((function(){var t=g.ref(e.name),a=E.collection("images");t.put(e).on("state_changed",(function(e){var t=e.bytesTransferred/e.totalBytes*100;c(t)}),(function(e){p(e)}),Object(u.a)(s.a.mark((function e(){var n,r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.getDownloadURL();case 2:n=e.sent,r=b(),a.add({url:n,createdAt:r});case 5:case"end":return e.stop()}}),e)}))))}),[e]),{progress:r,url:f,error:m}},V=function(e){var t=e.file,a=e.setFile,c=S(t),l=c.url,i=c.progress;return Object(n.useEffect)((function(){l&&a(null)}),[l,a]),r.a.createElement("div",{className:"progress-bar",style:{width:i+"%"}})},x=function(){var e=Object(n.useState)(null),t=Object(o.a)(e,2),a=t[0],c=t[1],l=Object(n.useState)(null),i=Object(o.a)(l,2),s=i[0],u=i[1],m=["image/png","image/jpeg","image/jpg"];return r.a.createElement("form",null,r.a.createElement("label",null,r.a.createElement("input",{className:"fileInput",type:"file",onChange:function(e){var t=e.target.files[0];t&&m.includes(t.type)?(c(t),u("")):(c(null),u("Please select an image file (png/jpeg/jpg) or write you user name"))}}),r.a.createElement("span",{className:"plus"},r.a.createElement("i",{className:"fas fa-plus-circle"})," Add Img")),r.a.createElement("div",{className:"output"},s&&r.a.createElement("div",{className:"error"},s),a&&r.a.createElement(V,{file:a,setFile:c})))},N=a(34),L=function(e){var t=Object(n.useState)([]),a=Object(o.a)(t,2),r=a[0],c=a[1];return Object(n.useEffect)((function(){var t=E.collection(e).orderBy("createdAt","desc").onSnapshot((function(e){var t=[];e.forEach((function(e){t.push(Object(N.a)(Object(N.a)({},e.data()),{},{id:e.id}))})),c(t)}));return function(){return t()}}),[e]),{docs:r}},I=a(23),k=function(e){var t=e.setSelectedImg,a=L("images").docs;return r.a.createElement("div",{className:"img-grid"},a&&a.map((function(e){return r.a.createElement(I.a.div,{layout:!0,whileHover:{opacity:1},onClick:function(){return t(e.url)},className:"img-wrap",key:e.id},r.a.createElement(I.a.img,{src:e.url,alt:"",initial:{opacity:0},animate:{opacity:1},transition:{delay:1}}))})))},M=function(e){var t=e.selectedImg,a=e.setSelectedImg;return r.a.createElement(I.a.div,{className:"backdrop",onClick:function(e){e.target.classList.contains("backdrop")&&a(null)},initial:{opacity:0},animate:{opacity:1}},r.a.createElement(I.a.img,{src:t,alt:"largePic",initial:{y:"-100vh"},animate:{y:0}}))};function Z(){var e=Object(n.useState)(null),t=Object(o.a)(e,2),a=t[0],c=t[1],l=Object(n.useState)(""),i=Object(o.a)(l,2),m=i[0],p=i[1],C=w(),d=C.currentUser,f=C.logout,g=Object(O.g)();function E(){return(E=Object(u.a)(s.a.mark((function e(){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return p(""),e.prev=1,e.next=4,f();case 4:g.push("/login"),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(1),p("Failed to log out");case 10:case"end":return e.stop()}}),e,null,[[1,7]])})))).apply(this,arguments)}return r.a.createElement("div",{className:"main"},r.a.createElement("div",{className:"menu"},r.a.createElement("svg",{width:"100",height:"100",viewBox:"0 0 100 100",fill:"none",xmlns:"http://www.w3.org/2000/svg"},r.a.createElement("rect",{width:"100",height:"100",fill:"#00BFFF"}),r.a.createElement("path",{d:"M50.24 59.22H43.45V70H32.39V29.75H50.73C56.2833 29.75 60.6933 31.08 63.96 33.74C67.2267 36.3533 68.86 39.97 68.86 44.59C68.86 47.53 68.1367 50.0967 66.69 52.29C65.29 54.4367 63.2833 56.1167 60.67 57.33L69.63 70H57.73L50.24 59.22ZM57.73 44.59C57.73 42.5833 57.0767 41.0433 55.77 39.97C54.4633 38.8967 52.5267 38.36 49.96 38.36H43.45V50.82H49.96C52.5267 50.82 54.4633 50.2833 55.77 49.21C57.0767 48.1367 57.73 46.5967 57.73 44.59Z",fill:"#CD0642"}),r.a.createElement("path",{d:"M31.408 56.198C30.316 56.198 29.332 55.97 28.456 55.514C27.58 55.046 26.89 54.404 26.386 53.588C25.882 52.772 25.63 51.854 25.63 50.834C25.63 49.814 25.882 48.896 26.386 48.08C26.89 47.252 27.58 46.61 28.456 46.154C29.332 45.686 30.316 45.452 31.408 45.452C32.404 45.452 33.262 45.602 33.982 45.902C34.714 46.202 35.344 46.682 35.872 47.342L34.036 49.016C33.352 48.188 32.512 47.774 31.516 47.774C30.64 47.774 29.914 48.056 29.338 48.62C28.774 49.184 28.492 49.922 28.492 50.834C28.492 51.434 28.618 51.968 28.87 52.436C29.134 52.892 29.494 53.246 29.95 53.498C30.418 53.75 30.94 53.876 31.516 53.876C32.512 53.876 33.352 53.462 34.036 52.634L35.872 54.308C35.356 54.956 34.726 55.436 33.982 55.748C33.25 56.048 32.392 56.198 31.408 56.198ZM42.4479 56.198C41.3439 56.198 40.3479 55.97 39.4599 55.514C38.5839 55.046 37.8939 54.404 37.3899 53.588C36.8859 52.772 36.6339 51.854 36.6339 50.834C36.6339 49.814 36.8859 48.896 37.3899 48.08C37.8939 47.252 38.5839 46.61 39.4599 46.154C40.3479 45.686 41.3439 45.452 42.4479 45.452C43.5519 45.452 44.5419 45.686 45.4179 46.154C46.3059 46.61 47.0019 47.252 47.5059 48.08C48.0099 48.896 48.2619 49.814 48.2619 50.834C48.2619 51.854 48.0099 52.772 47.5059 53.588C47.0019 54.404 46.3059 55.046 45.4179 55.514C44.5419 55.97 43.5519 56.198 42.4479 56.198ZM42.4479 53.876C42.9999 53.876 43.4979 53.744 43.9419 53.48C44.3979 53.216 44.7519 52.856 45.0039 52.4C45.2559 51.932 45.3819 51.41 45.3819 50.834C45.3819 50.246 45.2559 49.724 45.0039 49.268C44.7519 48.8 44.3979 48.434 43.9419 48.17C43.4979 47.906 42.9999 47.774 42.4479 47.774C41.8959 47.774 41.3919 47.906 40.9359 48.17C40.4919 48.434 40.1379 48.8 39.8739 49.268C39.6219 49.724 39.4959 50.246 39.4959 50.834C39.4959 51.41 39.6219 51.932 39.8739 52.4C40.1379 52.856 40.4919 53.216 40.9359 53.48C41.3919 53.744 41.8959 53.876 42.4479 53.876ZM50.2747 45.65H55.1527C56.3287 45.65 57.3607 45.86 58.2487 46.28C59.1367 46.7 59.8207 47.3 60.3007 48.08C60.7927 48.86 61.0387 49.778 61.0387 50.834C61.0387 51.878 60.7927 52.79 60.3007 53.57C59.8207 54.35 59.1367 54.95 58.2487 55.37C57.3607 55.79 56.3287 56 55.1527 56H50.2747V45.65ZM55.0627 53.768C56.0227 53.768 56.7787 53.516 57.3307 53.012C57.8827 52.496 58.1587 51.77 58.1587 50.834C58.1587 49.898 57.8827 49.172 57.3307 48.656C56.7787 48.14 56.0227 47.882 55.0627 47.882H53.1187V53.768H55.0627ZM71.388 53.822V56H63.054V45.65H71.19V47.828H65.862V49.718H70.578V51.788H65.862V53.822H71.388Z",fill:"white"})),r.a.createElement("div",{className:"menu-user-info"},m&&r.a.createElement("p",{variant:"danger"},m),r.a.createElement("p",null,r.a.createElement("strong",null,"User:")," ",d.email),r.a.createElement("button",{id:"logout",variant:"link",className:"button",onClick:function(){return E.apply(this,arguments)}},"Log Out"))),r.a.createElement("div",{className:"profile"},r.a.createElement("div",null,r.a.createElement("h1",null,"Gallery"),r.a.createElement("p",null,"Hi, This is a gallery with storage(I've used a firebase), so you can easily add image but to do that you have to login or create an account (same I've used a firebase to storage login and password)."))),r.a.createElement("div",{className:"content"},r.a.createElement(x,null),r.a.createElement(k,{setSelectedImg:c}),a&&r.a.createElement(M,{selectedImg:a,setSelectedImg:c})),r.a.createElement("footer",null,r.a.createElement("a",{href:"https://www.google.com"},r.a.createElement("span",null,"Made by"),r.a.createElement("svg",{width:"100",height:"100",viewBox:"0 0 100 100",fill:"none",xmlns:"http://www.w3.org/2000/svg"},r.a.createElement("rect",{width:"100",height:"100",fill:"#00BFFF"}),r.a.createElement("path",{d:"M50.24 59.22H43.45V70H32.39V29.75H50.73C56.2833 29.75 60.6933 31.08 63.96 33.74C67.2267 36.3533 68.86 39.97 68.86 44.59C68.86 47.53 68.1367 50.0967 66.69 52.29C65.29 54.4367 63.2833 56.1167 60.67 57.33L69.63 70H57.73L50.24 59.22ZM57.73 44.59C57.73 42.5833 57.0767 41.0433 55.77 39.97C54.4633 38.8967 52.5267 38.36 49.96 38.36H43.45V50.82H49.96C52.5267 50.82 54.4633 50.2833 55.77 49.21C57.0767 48.1367 57.73 46.5967 57.73 44.59Z",fill:"#CD0642"}),r.a.createElement("path",{d:"M31.408 56.198C30.316 56.198 29.332 55.97 28.456 55.514C27.58 55.046 26.89 54.404 26.386 53.588C25.882 52.772 25.63 51.854 25.63 50.834C25.63 49.814 25.882 48.896 26.386 48.08C26.89 47.252 27.58 46.61 28.456 46.154C29.332 45.686 30.316 45.452 31.408 45.452C32.404 45.452 33.262 45.602 33.982 45.902C34.714 46.202 35.344 46.682 35.872 47.342L34.036 49.016C33.352 48.188 32.512 47.774 31.516 47.774C30.64 47.774 29.914 48.056 29.338 48.62C28.774 49.184 28.492 49.922 28.492 50.834C28.492 51.434 28.618 51.968 28.87 52.436C29.134 52.892 29.494 53.246 29.95 53.498C30.418 53.75 30.94 53.876 31.516 53.876C32.512 53.876 33.352 53.462 34.036 52.634L35.872 54.308C35.356 54.956 34.726 55.436 33.982 55.748C33.25 56.048 32.392 56.198 31.408 56.198ZM42.4479 56.198C41.3439 56.198 40.3479 55.97 39.4599 55.514C38.5839 55.046 37.8939 54.404 37.3899 53.588C36.8859 52.772 36.6339 51.854 36.6339 50.834C36.6339 49.814 36.8859 48.896 37.3899 48.08C37.8939 47.252 38.5839 46.61 39.4599 46.154C40.3479 45.686 41.3439 45.452 42.4479 45.452C43.5519 45.452 44.5419 45.686 45.4179 46.154C46.3059 46.61 47.0019 47.252 47.5059 48.08C48.0099 48.896 48.2619 49.814 48.2619 50.834C48.2619 51.854 48.0099 52.772 47.5059 53.588C47.0019 54.404 46.3059 55.046 45.4179 55.514C44.5419 55.97 43.5519 56.198 42.4479 56.198ZM42.4479 53.876C42.9999 53.876 43.4979 53.744 43.9419 53.48C44.3979 53.216 44.7519 52.856 45.0039 52.4C45.2559 51.932 45.3819 51.41 45.3819 50.834C45.3819 50.246 45.2559 49.724 45.0039 49.268C44.7519 48.8 44.3979 48.434 43.9419 48.17C43.4979 47.906 42.9999 47.774 42.4479 47.774C41.8959 47.774 41.3919 47.906 40.9359 48.17C40.4919 48.434 40.1379 48.8 39.8739 49.268C39.6219 49.724 39.4959 50.246 39.4959 50.834C39.4959 51.41 39.6219 51.932 39.8739 52.4C40.1379 52.856 40.4919 53.216 40.9359 53.48C41.3919 53.744 41.8959 53.876 42.4479 53.876ZM50.2747 45.65H55.1527C56.3287 45.65 57.3607 45.86 58.2487 46.28C59.1367 46.7 59.8207 47.3 60.3007 48.08C60.7927 48.86 61.0387 49.778 61.0387 50.834C61.0387 51.878 60.7927 52.79 60.3007 53.57C59.8207 54.35 59.1367 54.95 58.2487 55.37C57.3607 55.79 56.3287 56 55.1527 56H50.2747V45.65ZM55.0627 53.768C56.0227 53.768 56.7787 53.516 57.3307 53.012C57.8827 52.496 58.1587 51.77 58.1587 50.834C58.1587 49.898 57.8827 49.172 57.3307 48.656C56.7787 48.14 56.0227 47.882 55.0627 47.882H53.1187V53.768H55.0627ZM71.388 53.822V56H63.054V45.65H71.19V47.828H65.862V49.718H70.578V51.788H65.862V53.822H71.388Z",fill:"white"})))))}function F(){var e=Object(n.useRef)(),t=Object(n.useRef)(),a=w().login,c=Object(n.useState)(""),l=Object(o.a)(c,2),i=l[0],f=l[1],g=Object(n.useState)(!1),E=Object(o.a)(g,2),b=E[0],v=E[1],h=Object(O.g)();function j(){return(j=Object(u.a)(s.a.mark((function n(r){return s.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r.preventDefault(),n.prev=1,f(""),v(!0),n.next=6,a(e.current.value,t.current.value);case 6:h.push("/"),n.next=12;break;case 9:n.prev=9,n.t0=n.catch(1),f("Failed to log in");case 12:v(!1);case 13:case"end":return n.stop()}}),n,null,[[1,9]])})))).apply(this,arguments)}return r.a.createElement(r.a.Fragment,null,r.a.createElement(m.a,null,r.a.createElement(m.a.Body,null,r.a.createElement("h2",{className:"text-center mb-4"},"Log In"),i&&r.a.createElement(p.a,{variant:"danger"},i),r.a.createElement(C.a,{onSubmit:function(e){return j.apply(this,arguments)}},r.a.createElement(C.a.Group,{id:"email"},r.a.createElement(C.a.Label,null,"Email"),r.a.createElement(C.a.Control,{type:"email",ref:e,required:!0})),r.a.createElement(C.a.Group,{id:"password"},r.a.createElement(C.a.Label,null,"Password"),r.a.createElement(C.a.Control,{type:"password",ref:t,required:!0})),r.a.createElement(d.a,{disabled:b,className:"w-100",type:"submit"},"Log In"))),r.a.createElement("div",{className:"w-100 text-center mt-2 log-sign"},"Need an account? ",r.a.createElement(y.b,{to:"/signup"},"Sign Up"))))}var P=a(42);function B(e){var t=e.component,a=Object(P.a)(e,["component"]),n=w().currentUser;return r.a.createElement(O.b,Object.assign({},a,{render:function(e){return n?r.a.createElement(t,e):r.a.createElement(O.a,{to:"/login"})}}))}var U=function(){return r.a.createElement("div",{className:"App"},r.a.createElement(y.a,null,r.a.createElement(j,null,r.a.createElement(O.d,null,r.a.createElement(B,{exact:!0,path:"/",component:Z}),r.a.createElement(O.b,{path:"/signup",component:H}),r.a.createElement(O.b,{path:"/login",component:F})))))};l.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(U,null)),document.getElementById("root"))}},[[58,1,2]]]);
//# sourceMappingURL=main.a73a4379.chunk.js.map